## 背景

转化脚本的编写有一定的规律，特别是表单的填写和提交，如果一个个去获取元素选择器和人工去编写相关代码会非常繁琐，借助插件可以快速生成转化脚本

## 简介

- 它用于自动抓取网页中的表单元素，并根据元素特征智能识别其类型。它可以帮助开发者快速分析网页表单结构，自动对表单元素进行分类，并为每个元素生成唯一的选择器。
- 开发者可勾选元素来生成节点，也可以增加、删除节点或者改变节点的类型。最终点击"生成代码"按钮来生成对应的转化代码。

## 功能特点

### 表单抓取功能

- 自动识别网页中的所有表单元素
- 按照从上到下的顺序显示表单元素
- 根据元素特征智能分类为指定类型（电子邮件、密码、姓名等）
- 为每个元素生成唯一的、较简短的 CSS 选择器
- 实时监控页面变化，动态更新元素列表
- 点击"刷新"按钮可重新扫描页面元素
- 点击"定位"按钮可在页面上高亮显示对应的元素
- 点击"生成代码"按钮可生成对应的转化代码
- 元素右键菜单，可复制元素选择器

### 脚本注入功能 🆕

- **脚本编辑器**：在 Debug 面板中编写和管理 JavaScript 脚本
- **实时测试**：在当前页面立即测试脚本执行效果
- **自动注入**：保存的脚本会在所有网站自动执行
- **多重策略**：使用多种注入方法确保脚本成功执行
- **安全执行**：在主世界中执行，可访问页面变量和函数
- **状态反馈**：提供详细的执行状态和错误信息

## 技术栈

- TypeScript
- React
- Chakra UI
- Vite
- Chrome 扩展 API

## 开发环境准备

1. 安装依赖

```bash
pnpm install
```

2. 开发模式运行

```bash
pnpm dev
```

3. 生产模式构建

```bash
pnpm build
```

## 安装方法

1. 运行 `pnpm build` 生成 dist 目录
2. 打开 Chrome 浏览器，访问 `chrome://extensions/`
3. 开启右上角的"开发者模式"
4. 点击"加载已解压的扩展程序"
5. 选择项目中的 `dist` 目录

## 使用指南

### 表单抓取

1. 打开包含表单的网页
2. 点击扩展图标打开侧边栏
3. 在"表单列表"中查看识别到的表单元素
4. 勾选需要的元素，调整类型
5. 点击"生成代码"获取转化脚本

### 脚本注入 🆕

1. 切换到"Debug"标签页
2. 在代码编辑器中输入 JavaScript 代码
3. 点击"保存脚本"将脚本保存到本地
4. 点击"测试脚本"在当前页面立即执行
5. 保存的脚本会在所有网站自动执行

### 测试示例

项目包含 `test.html` 测试页面，提供了：

- 完整的表单元素用于测试抓取功能
- 示例脚本用于测试注入功能
- 使用说明和最佳实践

## 更新日志

### v1.1.0 🆕

- 集成 injected-script 项目的脚本注入功能
- 重写 Debug 组件，提供完整的脚本管理界面
- 添加多重注入策略，提高脚本执行成功率
- 新增测试页面和详细的集成文档
- 保持原有表单抓取功能完全兼容
